        CODE   SEGMENT
        ASSUME CS:CODE,DS:CODE,ES:CODE,SS:CODE
PPI     EQU     26H
CPORT   EQU     24H
BPORT   EQU     22H
APORT   EQU     20H
        ORG     1000H
        MOV AL, 80H
        OUT PPI, AL
        MOV DX, 3
ORIG:
        MOV AL, 00000000B
        OUT BPORT, AL
        CALL TIMER
AGAIN:
        SHR AL, 1
        ADD AL, 128
        OUT BPORT, AL
        CALL TIMER
        CMP AL, 0FFH
        JNE AGAIN
        DEC DX
        JNZ ORIG
        INT 3
TIMER:	MOV	CX,00
TIMER1:	NOP
	NOP
	NOP
	NOP
	LOOP	TIMER1
	RET
CODE ENDS
END