CODE SEGMENT
ASSUME CS:CODE, DS:CODE, ES:CODE, SS:CODE

PPIC_CM	EQU	1EH ; control register
PPICM	EQU	1CH
PPIBM	EQU	1AH
PPIAM	EQU	18H

PPIC_C EQU 26H
PPIC EQU 24H
PPIB EQU 22H
PPIA EQU 20H
KEY EQU 01H
ORG 1000H
MOV AX, 0
MOV DS, AX
;
MOV AL, 80H
OUT PPIC_CM, AL
MOV	AL,11111111B
OUT	PPICM,AL
MOV	AL,11111111B
OUT	PPIAM,AL
MOV	AL,11111111B
OUT	PPIBM,AL
;
MOV AL, 90H
OUT PPIC_C, AL
;
START:
IN AL, PPIA
OUT PPIAM, AL
JMP START
;
INT 3
;

CODE ENDS
END